<wdkModel>

  <recordClassSet name="communityDatasetRecordClasses">

    <!-- ################################################################### -->
    <!-- #####################  Community Dataset Record ################### -->
    <!-- ################################################################### -->

    <recordClass name="communityDataset" urlName="community-dataset" displayName="Community Study">
      <propertyList name="batch">
        <value>community-datasets</value>
      </propertyList>

      <primaryKey aliasPluginClassName="org.gusdb.wdk.model.record.GenericRecordPrimaryKeyAliasPlugin">
        <columnRef>dataset_id</columnRef>
      </primaryKey>

      <idAttribute name="primary_key" displayName="Dataset Name">
        <propertyList name="boost">
          <value>100</value>
        </propertyList>
        <text>
          <![CDATA[ $$display_name$$ ]]>
        </text>
      </idAttribute>

      <reporter name="solrjson"
                displayName="solr json: choose from columns and/or tables"
                scopes=""
                implementation="org.eupathdb.sitesearch.data.model.report.SolrLoaderReporter"/>

      <attributeQueryRef ref="CommunityDatasetAttributes.All">
        <columnAttribute name="project" displayName="dontcare" internal="true"/>  <!-- special field for project filtering -->
        <columnAttribute name="hyperlinkName" displayName="dontcare" internal="true"/> <!-- used for display in ss results -->
        <columnAttribute name="display_name" internal="true"/>
        <columnAttribute name="description" displayName="Description">
          <propertyList name="boost"> 
            <value>20</value>
          </propertyList>
	</columnAttribute>
        <columnAttribute name="summary" displayName="Summary">
          <propertyList name="isSummary">
            <value>true</value>
          </propertyList>
          <propertyList name="boost">  
            <value>20</value>
          </propertyList>
	</columnAttribute>		
      </attributeQueryRef>

      <table name="Contacts"
             displayName="Principal Investigator and Collaborators"
             queryRef="DatasetTables.Contacts">
        <propertyList name="boost"> 
          <value>20</value>
        </propertyList>   	      
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="contact_name" displayName="Investigator"/>
        <columnAttribute name="affiliation" displayName="Affiliation"/>  
      </table>

      <table name="Publications"
             displayName="Associated publications"
             queryRef="DatasetTables.Publications">
        <propertyList name="boost">
          <value>20</value>
        </propertyList>
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="pmid" displayName="Pubmed ID"/>
        <columnAttribute name="citation" displayName="Citation"/>
      </table>

      <table name="Hyperlinks"
             displayName="Related links"
             queryRef="DatasetTables.Hyperlinks">
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="text" displayName="Link text"/>
        <columnAttribute name="description" displayName="Description"/>
      </table>

      <table name="Organisms"
             displayName="Organisms"
             queryRef="DatasetTables.Organisms">
        <propertyList name="includeProjects">
          <value>MicrosporidiaDB</value>
          <value>TrichDB</value>
          <value>FungiDB</value>
          <value>PlasmoDB</value>
          <value>PiroplasmaDB</value>
          <value>TriTrypDB</value>
          <value>HostDB</value>
          <value>ToxoDB</value>
          <value>CryptoDB</value>
          <value>VectorBase</value>
          <value>GiardiaDB</value>
          <value>AmoebaDB</value>
          <value>UniDB</value>
        </propertyList>
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="organism_name"/>

      </table>

      <table name="Countries"
             displayName="Countries"
             queryRef="DatasetTables.Countries">
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="country" displayName="Country"/>
      </table>

      <table name="Species"
             displayName="Species"
             queryRef="DatasetTables.Species">
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="species" displayName="Species"/>
      </table>

      <table name="Diseases"
             displayName="Diseases"
             queryRef="DatasetTables.Diseases">
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="disease" displayName="Disease"/>
      </table>

      <table name="AssociatedFactors"
             displayName="Associated factors"
             queryRef="DatasetTables.AssociatedFactors">
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="factor" displayName="Factor"/>
      </table>

      <table name="DOIs"
             displayName="DOIs"
             queryRef="DatasetTables.DOIs">
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="doi" displayName="DOI"/>
        <columnAttribute name="description" displayName="Description"/>
      </table>

      <table name="BioprojectIds"
             displayName="Bioproject IDs"
             queryRef="DatasetTables.BioprojectIds">
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="bioproject_id" displayName="Bioproject ID"/>
        <columnAttribute name="description" displayName="Description"/>
      </table>

      <table name="FundingAwards"
             displayName="Funding awards"
             queryRef="DatasetTables.FundingAwards">
        <columnAttribute name="dataset_id"/>
        <columnAttribute name="agency" displayName="Agency"/>
        <columnAttribute name="award_number" displayName="Award number"/>
      </table>


    </recordClass>
    

  </recordClassSet>

</wdkModel>
